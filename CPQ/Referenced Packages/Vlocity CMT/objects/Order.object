<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <fields>
        <fullName>AccountId__c</fullName>
        <deprecated>false</deprecated>
        <description>Formula: Value of the AccountId field.</description>
        <externalId>false</externalId>
        <formula>AccountId</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Account Id</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>AccountRecordType__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>Account.RecordType.DeveloperName</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Account Record Type</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>AccountSLA__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>TEXT(Account.vSLA__c)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Account SLA</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>BillingName__c</fullName>
        <deprecated>false</deprecated>
        <description>Text to enter billing contact</description>
        <externalId>false</externalId>
        <label>Billing Name</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>CampaignId__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Campaign</label>
        <referenceTo>Campaign</referenceTo>
        <relationshipLabel>Orders</relationshipLabel>
        <relationshipName>Orders</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>CreatedByAPI__c</fullName>
        <defaultValue>false</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Created By API</label>
        <trackHistory>false</trackHistory>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>DefaultCurrencyPaymentMode__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Default Currency Payment Mode</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Picklist</type>
        <valueSet>
            <restricted>true</restricted>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Currency</fullName>
                    <default>true</default>
                </value>
                <value>
                    <fullName>Loyalty</fullName>
                    <default>false</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Delivery_Installation_Status__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Delivery Installation Status</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>In progress</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Yet to begin</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Completed</fullName>
                    <default>false</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Discount__c</fullName>
        <deprecated>false</deprecated>
        <description>Manual discount for entire order</description>
        <externalId>false</externalId>
        <label>Discount</label>
        <precision>5</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <type>Percent</type>
    </fields>
    <fields>
        <fullName>DueDate__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Due Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>EffectiveOneTimeLoyaltyTotal__c</fullName>
        <defaultValue>0</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Effective Total: One Time Loyalty</label>
        <precision>18</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>EffectiveOneTimeTotal__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Effective Total: One Time Charges</label>
        <summarizedField>OrderItem.EffectiveOneTimeTotal__c</summarizedField>
        <summaryForeignKey>OrderItem.OrderId</summaryForeignKey>
        <summaryOperation>sum</summaryOperation>
        <trackHistory>false</trackHistory>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>EffectiveOrderTotal__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>EffectiveOneTimeTotal__c +  Tax__c  +( EffectiveRecurringTotal__c *  NumberOfContractedMonths__c )</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Effective Order Total</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>EffectiveRecurringTotal__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Effective Total: Monthly Charges</label>
        <summarizedField>OrderItem.EffectiveRecurringTotal__c</summarizedField>
        <summaryForeignKey>OrderItem.OrderId</summaryForeignKey>
        <summaryOperation>sum</summaryOperation>
        <trackHistory>false</trackHistory>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>Email__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Email</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Email</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ExpirationDate__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Expiration Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>Fax__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Fax</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Phone</type>
    </fields>
    <fields>
        <fullName>FrameContractId__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <description>Frame contract linked to this order</description>
        <externalId>false</externalId>
        <label>Frame Contract</label>
        <referenceTo>Contract</referenceTo>
        <relationshipLabel>Orders</relationshipLabel>
        <relationshipName>Orders1</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>FulfilmentStatus__c</fullName>
        <deprecated>false</deprecated>
        <description>The summary fulfilment status of this order. Populated and updated by order management processes for submitted orders.</description>
        <externalId>false</externalId>
        <inlineHelpText>Fulfilment Status</inlineHelpText>
        <label>Fulfilment Status</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Draft</fullName>
                    <default>true</default>
                </value>
                <value>
                    <fullName>In Progress</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Activated</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Superseded</fullName>
                    <default>false</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>IsChangesAccepted__c</fullName>
        <defaultValue>false</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Changes Accepted</label>
        <trackHistory>false</trackHistory>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>IsChangesAllowed__c</fullName>
        <defaultValue>true</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Changes Allowed</label>
        <trackHistory>false</trackHistory>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>IsContractRequired__c</fullName>
        <defaultValue>false</defaultValue>
        <deprecated>false</deprecated>
        <description>Denotes if order requires a contract</description>
        <externalId>false</externalId>
        <label>Require Contract</label>
        <trackHistory>false</trackHistory>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>IsSyncing__c</fullName>
        <defaultValue>false</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Syncing</label>
        <trackHistory>false</trackHistory>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>JeopardySafetyIntervalUnit__c</fullName>
        <defaultValue>&quot;Seconds&quot;</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Jeopardy Safety Interval Unit</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Seconds</fullName>
                    <default>true</default>
                </value>
                <value>
                    <fullName>Business Hours</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Business Days</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Calendar Hours</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Calendar Days</fullName>
                    <default>false</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>JeopardySafetyInterval__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Jeopardy Safety Interval</label>
        <precision>18</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>JeopardyStatus__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>IF( (ISBLANK(RequestedCompletionDate__c) || RequestedCompletionDate__c == null) || (ISBLANK(DueDate__c) || DueDate__c == null), &apos;Green&apos;, IF((RequestedCompletionDate__c &gt; DueDate__c), &apos;Green&apos;, IF((ISBLANK(JeopardySafetyInterval__c) || JeopardySafetyInterval__c == null), &apos;Red&apos;, IF((DueDate__c - RequestedCompletionDate__c &gt; JeopardySafetyInterval__c), &apos;Red&apos;, &apos;Yellow&apos;) ) ) )</formula>
        <label>Jeopardy Status</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>LeadSource__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Lead Source</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Web</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Phone Inquiry</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Partner Referral</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Purchased List</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Other</fullName>
                    <default>false</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>MasterOrderName__c</fullName>
        <deprecated>false</deprecated>
        <description>The name of a master order under which multi-site orders are managed.</description>
        <externalId>false</externalId>
        <label>Master Order Name</label>
        <length>50</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>NumberOfContractedMonths__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Number of Contract Months</label>
        <precision>18</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OneTimeLoyaltyTotal__c</fullName>
        <defaultValue>0</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Total: One Time Loyalty</label>
        <precision>18</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OneTimeTotal__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Total: One Time Charges</label>
        <summarizedField>OrderItem.OneTimeTotal__c</summarizedField>
        <summaryForeignKey>OrderItem.OrderId</summaryForeignKey>
        <summaryOperation>sum</summaryOperation>
        <trackHistory>false</trackHistory>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>OpportunityId__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <description>DEPRECATED. Use the standard OpportunityId field.</description>
        <externalId>false</externalId>
        <label>Opportunity</label>
        <referenceTo>Opportunity</referenceTo>
        <relationshipLabel>Orders</relationshipLabel>
        <relationshipName>Orders</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>OrchestrationPlanId__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Orchestration Plan</label>
        <referenceTo>OrchestrationPlan__c</referenceTo>
        <relationshipLabel>Orders</relationshipLabel>
        <relationshipName>Orders</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>OrchestrationPlanReferenceId__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Orchestration Plan Reference Id</label>
        <length>19</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OrderGroup__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Order Group</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OrderStatus__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Order Status</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Picklist</type>
        <valueSet>
            <restricted>true</restricted>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Ready To Submit</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>In Progress</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Activated</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Cancel Requested</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Cancelled</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Complete</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Queued</fullName>
                    <default>false</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>OrderTotal__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>OneTimeTotal__c +  Tax__c  +( RecurringTotal__c *  NumberOfContractedMonths__c )</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Order Total</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>OriginatingChannel__c</fullName>
        <deprecated>false</deprecated>
        <description>Channel can be used to drive Eligibility/Compatibility/Recommendations/Pricing/Other implementations, e.g. Certain Product Bundles are only available on the Web or Call Center channel but not via the Retail and Dealer channels OR A product may have a different price when sold via the Web than sold via the Retail channel, etc.</description>
        <externalId>false</externalId>
        <label>Originating Channel</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Web</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Call Center</fullName>
                    <default>true</default>
                </value>
                <value>
                    <fullName>Retail</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Dealer</fullName>
                    <default>false</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>OriginatingContractId__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <description>Points to the contract from which this order was created</description>
        <externalId>false</externalId>
        <label>Originating Contract</label>
        <referenceTo>Contract</referenceTo>
        <relationshipLabel>Orders</relationshipLabel>
        <relationshipName>Orders</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Phone__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Phone</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Phone</type>
    </fields>
    <fields>
        <fullName>PriceListId__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Price List</label>
        <referenceTo>PriceList__c</referenceTo>
        <relationshipLabel>Orders Using This Price List</relationshipLabel>
        <relationshipName>Orders</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Pricebook__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>Pricebook2.Name</formula>
        <label>Pricebook</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>QuoteId__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <description>DEPRECATED. Use the standard QuoteId field.</description>
        <externalId>false</externalId>
        <label>Quote</label>
        <referenceTo>Quote</referenceTo>
        <relationshipLabel>Orders</relationshipLabel>
        <relationshipName>Orders</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>QuoteToCity__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Quote To City</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>QuoteToCountry__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Quote To Country</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>QuoteToName__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Quote To Name</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>QuoteToPostalCode__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Quote To Zip/Postal Code</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>QuoteToState__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Quote To State/Province</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>QuoteToStreet__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Quote To Street</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>RecurringTotal__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Total: Monthly Charges</label>
        <summarizedField>OrderItem.RecurringTotal__c</summarizedField>
        <summaryForeignKey>OrderItem.OrderId</summaryForeignKey>
        <summaryOperation>sum</summaryOperation>
        <trackHistory>false</trackHistory>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>RequestDate__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Request Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>RequestedCompletionDate__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Requested Completion Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>RequestedStartDate__c</fullName>
        <deprecated>false</deprecated>
        <description>Request for OM to Start Order, this is also the Requested Date/Time when CPQ will send the Order to Vlocity OM</description>
        <externalId>false</externalId>
        <label>Requested Start Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>ShippingName__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Shipping Name</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ShippingPostalCode__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>ShippingPostalCode</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Shipping Postal Code</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ShippingState__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>ShippingState</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Shipping State</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>StatusImageName__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>TEXT(Status)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Status Image Name</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>SupersededOrderId__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <description>Superseded Order</description>
        <externalId>false</externalId>
        <label>Superseded Order</label>
        <referenceTo>Order</referenceTo>
        <relationshipLabel>SupersededOrder</relationshipLabel>
        <relationshipName>SupersededOrder</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Tax__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Tax</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>ThorJeopardyStatus__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Jeopardy Status</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Green</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Yellow</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Red</fullName>
                    <default>false</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>TotalMonthlyDiscount__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Total : Monthly Discount</label>
        <summarizedField>OrderItem.RecurringDiscountPrice__c</summarizedField>
        <summaryForeignKey>OrderItem.OrderId</summaryForeignKey>
        <summaryOperation>sum</summaryOperation>
        <trackHistory>false</trackHistory>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>TotalOneTimeDiscount__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Total : One Time Discount</label>
        <summarizedField>OrderItem.OneTimeDiscountPrice__c</summarizedField>
        <summaryForeignKey>OrderItem.OrderId</summaryForeignKey>
        <summaryOperation>sum</summaryOperation>
        <trackHistory>false</trackHistory>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>TrackingNumber__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Tracking Number</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ValidationDate__c</fullName>
        <deprecated>false</deprecated>
        <description>Date of last validation run</description>
        <externalId>false</externalId>
        <inlineHelpText>Date of last validation run</inlineHelpText>
        <label>Validation Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>ValidationMessage__c</fullName>
        <deprecated>false</deprecated>
        <description>Message from last validation run</description>
        <externalId>false</externalId>
        <inlineHelpText>Message from last validation run</inlineHelpText>
        <label>Validation Message</label>
        <length>32768</length>
        <trackHistory>false</trackHistory>
        <type>LongTextArea</type>
        <visibleLines>3</visibleLines>
    </fields>
    <fields>
        <fullName>ValidationStatus__c</fullName>
        <deprecated>false</deprecated>
        <description>Status of last validation run</description>
        <externalId>false</externalId>
        <inlineHelpText>Status of last validation run</inlineHelpText>
        <label>Validation Status</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Not yet run</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Passed</fullName>
                    <default>false</default>
                </value>
                <value>
                    <fullName>Failed</fullName>
                    <default>false</default>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <recordTypes>
        <fullName>MobilePhoneOrder</fullName>
        <active>true</active>
        <label>MobilePhoneOrder</label>
        <picklistValues>
            <picklist>Delivery_Installation_Status__c</picklist>
            <values>
                <fullName>Completed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>In progress</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Yet to begin</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>FulfilmentStatus__c</picklist>
            <values>
                <fullName>Activated</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Draft</fullName>
                <default>true</default>
            </values>
            <values>
                <fullName>In Progress</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Superseded</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>LeadSource__c</picklist>
            <values>
                <fullName>Other</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Partner Referral</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Phone Inquiry</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Purchased List</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Web</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>OrderStatus__c</picklist>
            <values>
                <fullName>Activated</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Cancel Requested</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Cancelled</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Complete</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>In Progress</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Ready To Submit</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>OriginatingChannel__c</picklist>
            <values>
                <fullName>Call Center</fullName>
                <default>true</default>
            </values>
            <values>
                <fullName>Dealer</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Retail</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Web</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>Status</picklist>
            <values>
                <fullName>Activated</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Draft</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ValidationStatus__c</picklist>
            <values>
                <fullName>Failed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Not yet run</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Passed</fullName>
                <default>false</default>
            </values>
        </picklistValues>
    </recordTypes>
    <webLinks>
        <fullName>CPQ</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>CPQ</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/connection.js&quot;)} 
{!REQUIRESCRIPT(&quot;/xdomain/xdomain.js&quot;)} 
{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)} 
{!REQUIRESCRIPT(&quot;/support/console/31.0/integration.js&quot;)} 
var namespace_prefix = &apos;&apos;; 
var result = sforce.connection.describeGlobal(); 
var TOKEN_OBJ = &quot;Party__c&quot;; 
var sobjects = result.getArray(&quot;sobjects&quot;); 
for(var i=0; i&lt;sobjects.length; i++) { 
var sobjName = sobjects[i].name; 
var str = sobjName.split(&quot;__&quot;); 
//if there are 3 values there is a namespace 
if (str.length == 3){ 
var sobj = str[1].valueOf() +&apos;__c&apos;; 
if(sobj == TOKEN_OBJ) { 
namespace_prefix = str[0].valueOf(); 
} 
} 
} 
var target_url = &apos;/apex/&apos;+namespace_prefix+&apos;__hybridcpq?id=&apos;+&apos;{!Order.Id}&apos;;
window.location.href = target_url;</url>
    </webLinks>
    <webLinks>
        <fullName>Configure</fullName>
        <availability>online</availability>
        <description>This is a Custom Button on Order page to invoke CPQ in Lightning Experience</description>
        <displayType>button</displayType>
        <encodingKey>UTF-8</encodingKey>
        <height>600</height>
        <linkType>url</linkType>
        <masterLabel>Configure</masterLabel>
        <openType>noSidebar</openType>
        <protected>false</protected>
        <url>/apex/hybridcpq?id={!Order.Id}</url>
    </webLinks>
    <webLinks>
        <fullName>CreateContract</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Create Contract</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/connection.js&quot;)}
{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)}
var namespace_prefix = &apos;&apos;; 

var result = sforce.connection.describeGlobal();
var TOKEN_OBJ = &quot;Party__c&quot;;
var sobjects = result.getArray(&quot;sobjects&quot;);

for(var i=0; i&lt;sobjects.length; i++) {
var sobjName = sobjects[i].name;
var str = sobjName.split(&quot;__&quot;);
//if there are 3 values there is a namespace
if (str.length == 3){
//Is it one of ours?
var sobj = str[1].valueOf() +&apos;__c&apos;;
if(sobj == TOKEN_OBJ) {
namespace_prefix = str[0].valueOf();
}
} 
}
if(namespace_prefix != &quot;&quot;){
namespace_prefix+= &apos;.&apos;;
} 

var result = sforce.apex.execute(namespace_prefix+&quot;ContractServiceResource&quot;,&quot;createContractWithTemplate&quot;, {contextId: &apos;{!Order.Id}&apos;});

window.location.href = &apos;/&apos; + result + &apos;/e?retURL=%2F&apos; + result;</url>
    </webLinks>
    <webLinks>
        <fullName>DecomposeOrder</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Decompose Order</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/connection.js&quot;)}
{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)}

var namespace_prefix = &apos;&apos;;
var result = sforce.connection.describeGlobal();
var TOKEN_OBJ = &quot;Party__c&quot;;
var sobjects = result.getArray(&quot;sobjects&quot;);

for(var i=0; i&lt;sobjects.length; i++) {
    var sobjName = sobjects[i].name;
    var str = sobjName.split(&quot;__&quot;);

    //if there are 3 values there is a namespace
    if (str.length == 3) {
        //Is it one of ours?
        var sobj = str[1].valueOf() +&apos;__c&apos;;
        if(sobj == TOKEN_OBJ) {
            namespace_prefix = str[0].valueOf();
            break;
        }
    }
}

var simpleDecompControllerNamespace = &apos;&apos;;
var simpleDecompPageNamespace = &apos;&apos;;
if(namespace_prefix != &quot;&quot;) {
    simpleDecompControllerNamespace = namespace_prefix + &apos;.&apos;;
    simpleDecompPageNamespace = namespace_prefix + &apos;__&apos;;
}

var result = sforce.apex.execute(simpleDecompControllerNamespace+&quot;SimpleDecompositionController&quot;,&quot;decompose&quot;, {orderId: &apos;{!Order.Id}&apos;}, false);
if(result == &apos;OK&apos;) {
    // trim ID because we&apos;re sending Order IDs to thor in 15-length
    window.location.href = &apos;/apex/&apos; + simpleDecompPageNamespace + &apos;XOMViewOrderDecomposition?id={!LEFT(Order.Id, 15)}&apos;;
} else {
    console.error(result);
    alert(result);
}</url>
    </webLinks>
    <webLinks>
        <fullName>GenerateDocumentPDF</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <hasMenubar>false</hasMenubar>
        <hasScrollbars>true</hasScrollbars>
        <hasToolbar>false</hasToolbar>
        <height>600</height>
        <isResizable>true</isResizable>
        <linkType>page</linkType>
        <masterLabel>Generate Document PDF</masterLabel>
        <openType>newWindow</openType>
        <page>OrderDocumentPdf</page>
        <position>none</position>
        <protected>false</protected>
        <showsLocation>false</showsLocation>
        <showsStatus>false</showsStatus>
    </webLinks>
    <webLinks>
        <fullName>Multi_Site_Order</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>page</linkType>
        <masterLabel>Multi Site Order</masterLabel>
        <openType>replace</openType>
        <page>MultiSiteOrder</page>
        <protected>false</protected>
    </webLinks>
    <webLinks>
        <fullName>OrderPDF</fullName>
        <availability>online</availability>
        <description>Create PDF of current Order</description>
        <displayType>button</displayType>
        <hasMenubar>false</hasMenubar>
        <hasScrollbars>true</hasScrollbars>
        <hasToolbar>false</hasToolbar>
        <height>600</height>
        <isResizable>true</isResizable>
        <linkType>page</linkType>
        <masterLabel>Display PDF</masterLabel>
        <openType>newWindow</openType>
        <page>OrderPDF</page>
        <position>none</position>
        <protected>false</protected>
        <showsLocation>false</showsLocation>
        <showsStatus>false</showsStatus>
    </webLinks>
    <webLinks>
        <fullName>PickFrameContract</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Pick Frame Contract</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/connection.js&quot;)}

{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)}

var namespace_prefix = &apos;&apos;; 



var result = sforce.connection.describeGlobal();

var TOKEN_OBJ = &quot;Party__c&quot;;

var sobjects = result.getArray(&quot;sobjects&quot;);



for(var i=0; i&lt;sobjects.length; i++) {

var sobjName = sobjects[i].name;

var str = sobjName.split(&quot;__&quot;);

//if there are 3 values there is a namespace

if (str.length == 3){

//Is it one of ours?

var sobj = str[1].valueOf() +&apos;__c&apos;;

if(sobj == TOKEN_OBJ) {

namespace_prefix = str[0].valueOf();

}

} 

}



if(namespace_prefix == &quot;&quot;){ 



var acctId = &apos;{!Order.AccountId__c}&apos;; 

if(acctId!=&apos;&apos;) 

window.location = &apos;apex/FrameContractPage?accountValue=&apos; + &apos;{!Order.AccountId__c}&apos;+&apos;&amp;Id=&apos; +&apos;{!Order.Id}&apos;; 

} 

else { 

var acctId = &apos;{!Order.AccountId__c}&apos;; 

if(acctId!=&apos;&apos;) 

window.location = &apos;apex/&apos;+namespace_prefix+&apos;__FrameContractPage?accountValue=&apos; + &apos;{!Order.AccountId__c}&apos;+&apos;&amp;Id=&apos; +&apos;{!Order.Id}&apos;; 

}</url>
    </webLinks>
    <webLinks>
        <fullName>PreviewOrder</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Preview Order</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&apos;//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js&apos;)}
{!REQUIRESCRIPT(&apos;//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js&apos;)}
{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/connection.js&quot;)}
{!REQUIRESCRIPT(&quot;/xdomain/xdomain.js&quot;)}
{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)}
try{
  jQuery(function() {
    /*Append the jQuery CSS CDN Link to the Head tag.*/
    jQuery(&apos;head&apos;).append(&apos;&lt;link rel=&quot;stylesheet&quot; href=&quot;//ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/start/jquery-ui.css&quot; type=&quot;text/css&quot; /&gt;&apos;);
    /*Create the HTML(DIV Tag) for the Dialog.*/

    var namespace_prefix = &apos;&apos;;
    var result = sforce.connection.describeGlobal();
    var sobjects = result.getArray(&quot;sobjects&quot;);
    for(var i=0; i&lt;sobjects.length; i++) {
    var sobjName = sobjects[i].name;
    var str = sobjName.split(&quot;__&quot;);
    //if there are 3 values there is a namespace
    if (str.length == 3){
    namespace_prefix = str[0].valueOf();
    }
    }

    var html = 
      &apos;&lt;div style=&quot;display:none;&quot; id=&quot;dialog&quot;&gt;&lt;iframe style=&quot;border: 0px;&quot; width=&quot;600px&quot; height=&quot;800px&quot; src=&quot;/apex/&apos;+namespace_prefix+&apos;__OrderPDF?id={!Order.Id}&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&apos;;
    /*Check if the Dialog(DIV Tag) already exists if not then Append the same to the Body tag.*/
    jQuery(&apos;body&apos;).append(html);
    /*Open the jQuery Dialog.*/ 
    jQuery( &quot;#dialog&quot; ).dialog({
      autoOpen: true,
      modal: true,
      width: 650,
      buttons: [
        {
          text: &quot;OK&quot;,
          click: function() {
            $( this ).dialog( &quot;close&quot; );
          }
        }
      ],
      open: function (event, ui) {
        jQuery(&apos;.ui-dialog&apos;).css(&apos;z-index&apos;,103);
        jQuery(&apos;.ui-widget-overlay&apos;).css(&apos;z-index&apos;,102);
      },
    });
  }); 
}
catch(e){
  alert(&apos;An Error has Occured. Error: &apos; + e);
}</url>
    </webLinks>
    <webLinks>
        <fullName>RevokeSignature</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Revoke eSignature</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/connection.js&quot;)} 



{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)} 







var namespace_prefix = &apos;&apos;; 



var result = sforce.connection.describeGlobal(); 



var TOKEN_OBJ = &quot;Party__c&quot;; 



var sobjects = result.getArray(&quot;sobjects&quot;); 







for(var i=0; i&lt;sobjects.length; i++) 



{ 



var sobjName = sobjects[i].name; 



var str = sobjName.split(&quot;__&quot;); 







//if there are 3 values there is a namespace 



if (str.length == 3) 



{ 



//Is it one of ours? 



var sobj = str[1].valueOf() +&apos;__c&apos;; 



if(sobj == TOKEN_OBJ) 



{ 



namespace_prefix = str[0].valueOf(); 



break; 



} 



} 



} 







if(namespace_prefix != &quot;&quot;) 



{ 



namespace_prefix += &apos;.&apos;; 



} 







if(&apos;{!$User.DocuSignEmail__c}&apos; == null || &apos;{!$User.DocuSignEmail__c}&apos; == &quot;&quot;) 



{ 



alert(&apos;Login user does not have valid DocuSign account.&apos;); 



} 



else { 



var result = sforce.apex.execute(namespace_prefix+&quot;ContractDocuSignResource&quot;,&quot;voidEnvelopes&quot;, {objectId: &apos;{!Order.Id}&apos;, senderEmail:&apos;{!$User.DocuSignEmail__c }&apos;}); 



if(result == &apos;OK&apos;)



{



window.location.reload();



}



else



{



alert(result);



} 



}</url>
    </webLinks>
    <webLinks>
        <fullName>SavePDF</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>page</linkType>
        <masterLabel>Save PDF</masterLabel>
        <openType>replace</openType>
        <page>OrderPdfSave</page>
        <protected>false</protected>
    </webLinks>
    <webLinks>
        <fullName>SendForSignature</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Send for eSignature</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/connection.js&quot;)} 

{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)} 

var namespace_prefix = &apos;&apos;; 



var result = sforce.connection.describeGlobal(); 

var TOKEN_OBJ = &quot;Party__c&quot;; 

var sobjects = result.getArray(&quot;sobjects&quot;); 



for(var i=0; i&lt;sobjects.length; i++) { 

var sobjName = sobjects[i].name; 

var str = sobjName.split(&quot;__&quot;); 

//if there are 3 values there is a namespace 

if (str.length == 3){ 

//Is it one of ours? 

var sobj = str[1].valueOf() +&apos;__c&apos;; 

if(sobj == TOKEN_OBJ) { 

namespace_prefix = str[0].valueOf(); 

} 

} 

} 

if(namespace_prefix != &quot;&quot;){ 

namespace_prefix+= &apos;__&apos;; 

} 





if(&apos;{!$User.DocuSignEmail__c}&apos; == null || &apos;{!$User.DocuSignEmail__c}&apos; == &quot;&quot;) 

{ 

alert(&apos;Login user does not have valid DocuSign account.&apos;); 

} 

else { 

window.location = &apos;apex/&apos;+namespace_prefix+&apos;OrderDocuSignEnvelope?Id=&apos; +&apos;{!Order.Id}&apos;+&apos;&amp;senderDocuSignEmail=&apos; +&apos;{!$User.DocuSignEmail__c}&apos;; 

}</url>
    </webLinks>
    <webLinks>
        <fullName>UpdateContract</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Update Contract</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/connection.js&quot;)} 

{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)} 

var namespace_prefix = &apos;&apos;; 



var result = sforce.connection.describeGlobal(); 

var TOKEN_OBJ = &quot;Party__c&quot;; 

var sobjects = result.getArray(&quot;sobjects&quot;); 



for(var i=0; i&lt;sobjects.length; i++) { 

var sobjName = sobjects[i].name; 

var str = sobjName.split(&quot;__&quot;); 

//if there are 3 values there is a namespace 

if (str.length == 3){ 

//Is it one of ours? 

var sobj = str[1].valueOf() +&apos;__c&apos;; 

if(sobj == TOKEN_OBJ) { 

namespace_prefix = str[0].valueOf(); 

} 

} 

} 

if(namespace_prefix != &quot;&quot;){ 

namespace_prefix+= &apos;.&apos;; 

} 

var result = sforce.apex.execute(namespace_prefix+&quot;ContractServiceResource&quot;,&quot;updateContract&quot;, {contextId: &apos;{!Order.Id}&apos;}); 
alert(result);</url>
    </webLinks>
    <webLinks>
        <fullName>UpdateEnvelopeStatus</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Update Envelope Status</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/connection.js&quot;)} 



{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)} 







var namespace_prefix = &apos;&apos;; 



var result = sforce.connection.describeGlobal(); 



var TOKEN_OBJ = &quot;Party__c&quot;; 



var sobjects = result.getArray(&quot;sobjects&quot;); 











for(var i=0; i&lt;sobjects.length; i++) 



{ 



 var sobjName = sobjects[i].name; 



 var str = sobjName.split(&quot;__&quot;); 







 //if there are 3 values there is a namespace 



 if (str.length == 3)



 { 



  //Is it one of ours? 



  var sobj = str[1].valueOf() +&apos;__c&apos;; 



  if(sobj == TOKEN_OBJ) 



  { 



    namespace_prefix = str[0].valueOf();



    break;



  } 



 } 



} 











if(namespace_prefix != &quot;&quot;)



{ 



  namespace_prefix += &apos;.&apos;;



}











  var result = sforce.apex.execute(namespace_prefix+&quot;ContractDocuSignResource&quot;,&quot;updateEnvelopeStatus&quot;, {objectId: &apos;{!Order.Id}&apos;});

if(result == &apos;OK&apos;) 

{ 

window.location.reload(); 

} 

else 

{ 

alert(result); 

}</url>
    </webLinks>
    <webLinks>
        <fullName>ViewDecomposedOrder</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>View Decomposition</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/connection.js&quot;)}
{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)}

var namespace_prefix = &apos;&apos;;
var result = sforce.connection.describeGlobal();
var TOKEN_OBJ = &quot;Party__c&quot;;
var sobjects = result.getArray(&quot;sobjects&quot;);

for(var i=0; i&lt;sobjects.length; i++) {
    var sobjName = sobjects[i].name;
    var str = sobjName.split(&quot;__&quot;);

    //if there are 3 values there is a namespace
    if (str.length == 3) {
        //Is it one of ours?
        var sobj = str[1].valueOf() +&apos;__c&apos;;
        if(sobj == TOKEN_OBJ) {
            namespace_prefix = str[0].valueOf();
            break;
        }
    }
}

var simpleDecompControllerNamespace = &apos;&apos;;
var simpleDecompPageNamespace = &apos;&apos;;
if(namespace_prefix != &quot;&quot;) {
    simpleDecompControllerNamespace = namespace_prefix + &apos;.&apos;;
    simpleDecompPageNamespace = namespace_prefix + &apos;__&apos;;
}

var result = sforce.apex.execute(simpleDecompControllerNamespace+&quot;SimpleDecompositionController&quot;,&quot;viewDecomposition&quot;, {orderId: &apos;{!Order.Id}&apos;});
if(result == &apos;OK&apos;) {
    // trim ID because we&apos;re sending Order IDs to thor in 15-length
    window.location.href = &apos;/apex/&apos; + simpleDecompPageNamespace + &apos;XOMViewOrderDecomposition?id={!LEFT(Order.Id, 15)}&apos;;
} else {
    alert(result);
}</url>
    </webLinks>
    <webLinks>
        <fullName>ViewOrchestrationPlan</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>View Orchestration Plan</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/19.0/connection.js&quot;)}
            {!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)}

            var namespace_prefix = &apos;&apos;;
            var result = sforce.connection.describeGlobal();
            var TOKEN_OBJ = &quot;Party__c&quot;;
            var sobjects = result.getArray(&quot;sobjects&quot;);

            for(var i=0; i&lt;sobjects.length; i++) {
                var sobjName = sobjects[i].name;
                var str = sobjName.split(&quot;__&quot;);

                //if there are 3 values there is a namespace
                if (str.length == 3) {
                    //Is it one of ours?
                    var sobj = str[1].valueOf() +&apos;__c&apos;;
                    if (sobj == TOKEN_OBJ) {
                        namespace_prefix = str[0].valueOf();
                        break;
                    }
                }
            }

            var simpleDecompControllerNamespace = &apos;&apos;;
            var simpleDecompPageNamespace = &apos;&apos;;
            if(namespace_prefix != &quot;&quot;) {
                simpleDecompControllerNamespace = namespace_prefix + &apos;.&apos;;
                simpleDecompPageNamespace = namespace_prefix + &apos;__&apos;;
            }

var orderId = &apos;{!Order.Id }&apos;;
var planId = &apos;{!Order.OrchestrationPlanIdId__c}&apos;;
var thorPlanId = &apos;{!Order.OrchestrationPlanReferenceId__c}&apos;;
if(planId !== null &amp;&amp; planId !== &apos;&apos;)
{
    parent.location.href = parent.location.origin+&apos;/&apos;+planId;
} else if (thorPlanId !== null &amp;&amp; thorPlanId !== &apos;&apos;)
{
   parent.location.href =  &apos;/apex/&apos; + simpleDecompPageNamespace +&apos;OrchestrationPlanViewCommon?id=&apos; + thorPlanId;
} else
{
    alert(&apos;Order is not associated with any Orchestration Plan!&apos;);
}</url>
    </webLinks>
    <webLinks>
        <fullName>XOMOnSubmitOrder</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <height>600</height>
        <linkType>page</linkType>
        <masterLabel>Submit Order</masterLabel>
        <openType>sidebar</openType>
        <page>XOMSubmitOrder</page>
        <protected>false</protected>
    </webLinks>
    <webLinks>
        <fullName>XOMSubmitOrder</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Submit Order</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/connection.js&quot;)}
{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)}

function showDialog(title, message, width, largerText) {
    //set up the vars
    var dialogTitle = title,
        dialogHTML = message,
        dialogWidth,
        modalBlocker = document.createElement(&quot;div&quot;),
        modalBox = document.createElement(&quot;div&quot;),
        modalBoxInner = document.createElement(&quot;div&quot;),
        modalBoxTitle = document.createElement(&quot;h3&quot;),
        modalBoxClose = document.createElement(&quot;span&quot;);
 
    if (width) {
        dialogWidth = width;
    }
    else {
        dialogWidth = &apos;800&apos;;
    }
 
    //debug info
    console.log(&apos;title&apos;, title);
    console.log(&apos;message&apos;, message);
    console.log(&apos;width&apos;, width);
    console.log(&apos;largerText&apos;, largerText);
 
    
 
    //Get the document size
    var w = 0; var h = 0;
    if (!window.innerWidth) {
        if (!(document.documentElement.clientWidth == 0)) {
            w = document.documentElement.clientWidth;
            h = document.documentElement.clientHeight;
        } else {
            w = document.body.clientWidth;
            h = document.body.clientHeight;
        }
    } else {
        w = window.innerWidth;
        h = window.innerHeight;
    }
 
    //Set up the modal blocker
    modalBlocker.setAttribute(&apos;Id&apos;, &apos;__modalBlocker&apos;);
    modalBlocker.style.width = w + &apos;px&apos;;
    modalBlocker.style.height = document.body.scrollHeight + &apos;px&apos;;
    modalBlocker.style.position = &apos;absolute&apos;;
    modalBlocker.style.zIndex = &apos;20000&apos;;
    modalBlocker.style.opacity = &apos;.5&apos;;
    modalBlocker.style.filter = &apos;alpha(opacity=50)&apos;;
    modalBlocker.style.backgroundColor = &apos;#000&apos;;
    modalBlocker.style.top = 0;
    modalBlocker.style.left = 0;
 
    //set up the modal box...
    modalBox.setAttribute(&apos;id&apos;, &apos;__modalBox&apos;);
    modalBox.style.backgroundColor = &apos;#fff&apos;;
    modalBox.style.width = dialogWidth + &apos;px&apos;;
    modalBox.style.zIndex = &apos;20001&apos;;
    modalBox.style.position = &apos;fixed&apos;;
    modalBox.style.top = &apos;200px&apos;;
    modalBox.style.left = ((w / 2) - (dialogWidth / 2)) + &apos;px&apos;;
    modalBox.style.borderRadius = &apos;4px&apos;;
    modalBox.style.boxShadow = &apos;1px 1px 10px #000&apos;;
 
    //...and the inner div
    modalBoxInner.style.position = &apos;relative&apos;;
    modalBoxInner.style.padding = &apos;20px&apos;;
    if (largerText) modalBoxInner.style.fontSize = &apos;1.6em&apos;;
    modalBoxInner.innerHTML = dialogHTML;
 
 
    //set up the close button
    modalBoxClose.innerHTML = &apos;X&apos;;
    modalBoxClose.title = &apos;Close&apos;;
    modalBoxClose.style.fontSize = &apos;12px&apos;;
    modalBoxClose.style.backgroundColor = &apos;rgb(224, 7, 7)&apos;;
    modalBoxClose.style.color = &apos;#fff&apos;;
    modalBoxClose.style.position = &apos;absolute&apos;;
    modalBoxClose.style.top = &apos;0&apos;;
    modalBoxClose.style.right = &apos;10px&apos;;
    modalBoxClose.style.display = &apos;block&apos;;
    modalBoxClose.style.width = &apos;26px&apos;;
    modalBoxClose.style.padding = &apos;5px&apos;;
    modalBoxClose.style.textAlign = &apos;center&apos;;
    modalBoxClose.style.cursor = &apos;pointer&apos;;
    modalBoxClose.style.borderBottomLeftRadius = &apos;4px&apos;;
    modalBoxClose.style.borderBottomRightRadius = &apos;4px&apos;;
    modalBoxClose.setAttribute(&apos;onclick&apos;, &apos;document.body.removeChild(document.getElementById(\&apos;__modalBlocker\&apos;));document.body.removeChild(document.getElementById(\&apos;__modalBox\&apos;));&apos;);
 
    //set up the dialog box title
    modalBoxTitle.innerHTML = dialogTitle;
    modalBoxTitle.style.display = &apos;block&apos;;
    modalBoxTitle.style.fontSize = &apos;1.6em&apos;;
    modalBoxTitle.style.color = &apos;#1797c0&apos;;
    modalBoxTitle.style.margin = &apos;8px 0 0 8px&apos;;
 
    //Add the close button and the title to the modal box
    modalBox.appendChild(modalBoxClose);
    modalBox.appendChild(modalBoxTitle);
    modalBox.appendChild(modalBoxInner);
 
    //finally, add the modal box and the modal blocker to the page
    document.body.appendChild(modalBlocker);
    document.body.appendChild(modalBox);
}

var namespace_prefix = &apos;&apos;;
var result = sforce.connection.describeGlobal();
var TOKEN_OBJ = &quot;Party__c&quot;;
var sobjects = result.getArray(&quot;sobjects&quot;);

for(var i=0; i&lt;sobjects.length; i++) {
    var sobjName = sobjects[i].name;
    var str = sobjName.split(&quot;__&quot;);

    //if there are 3 values there is a namespace
    if (str.length == 3) {
        //Is it one of ours?
        var sobj = str[1].valueOf() +&apos;__c&apos;;
        if(sobj == TOKEN_OBJ) {
            namespace_prefix = str[0].valueOf();
            break;
        }
    }
}

function processResponse(result) {
  console.log(&apos;processing order submit result:&apos;, result);
  var deserializedResult = JSON.parse(result);

  if (deserializedResult.isOk === true &amp;&amp; deserializedResult.isOff === true) {
    parent.location.href = &apos;/apex/&apos; + simpleDecompPageNamespace + &apos;OrchestrationPlanViewCommon?id=&apos; + deserializedResult.planId;
  } else if (deserializedResult.isOk === true &amp;&amp; deserializedResult.isOff !== true) {
    parent.location.href = parent.location.origin + &apos;/&apos; + deserializedResult.planId;
  } else {
    console.error(&apos;error is occurred on order submit:&apos;, deserializedResult.errorMsg);
    showDialog(&apos;Error&apos;, deserializedResult.errorMsg);
  }
}

function errorHandler(error) {
  console.error(error);
  alert(error);
}

var simpleDecompControllerNamespace = &apos;&apos;;
var simpleDecompPageNamespace = &apos;&apos;;
if(namespace_prefix != &quot;&quot;) {
    simpleDecompControllerNamespace = namespace_prefix + &apos;.&apos;;
    simpleDecompPageNamespace = namespace_prefix + &apos;__&apos;;
}

var result = sforce.apex.execute(simpleDecompControllerNamespace + &quot;SimpleDecompositionController&quot;, &quot;decomposeAndCreatePlanEx&quot;, {
  orderId: &apos;{!Order.Id}&apos;
}, {
  onSuccess: processResponse,
  onFailure: errorHandler,
  timeout: 120000
});</url>
    </webLinks>
</CustomObject>
